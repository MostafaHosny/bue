function isNumberKey(e,t){var l=t.which?t.which:t.keyCode;return 46==l?-1===e.value.indexOf(".")?!0:!1:l>31&&(48>l||l>57)?!1:!0}function handleClick(e){0==e.value?($("#coil1table").show(),$("#coil2table").hide(),$("#coil3table").hide(),$("#exportcoil1").show(),$("#exportcoil2").hide(),$("#exportcoil3").hide()):1==e.value?($("#coil1table").hide(),$("#coil2table").show(),$("#coil3table").hide(),$("#exportcoil1").hide(),$("#exportcoil2").show(),$("#exportcoil3").hide()):2==e.value&&($("#coil1table").hide(),$("#coil2table").hide(),$("#coil3table").show(),$("#exportcoil1").hide(),$("#exportcoil2").hide(),$("#exportcoil3").show()),$.ajax({url:"/experiments/send_to_rasp",type:"POST",data:{coil:e.value},success:function(e){}})}function addrow(){""!=$("#Voltage").val()&&parseFloat($("#Voltage").val())>=0&&($("input[type='radio'].radioBtnClass").is(":checked")&&(coil=$("input[type='radio'].radioBtnClass:checked").val()),0==coil?$("#coil1table tbody").append('<tr class="child"><td>'+table1.rows.length+"</td> <td>"+document.getElementById("PRM_value").value+"</td><td>"+document.getElementById("Voltage").value+"</td></tr>"):1==coil?$("#coil2table tbody").append('<tr class="child"><td>'+table2.rows.length+"</td> <td>"+document.getElementById("PRM_value").value+"</td><td>"+document.getElementById("Voltage").value+"</td></tr>"):2==coil&&$("#coil3table tbody").append('<tr class="child"><td>'+table3.rows.length+"</td> <td>"+document.getElementById("PRM_value").value+"</td><td>"+document.getElementById("Voltage").value+"</td></tr>"),drow(),$("#Voltage").val(""))}function tableToExcel(e){$("#"+e).tableExport({type:"excel",htmlContent:"false",escape:"true"})}function drow(){for(var e=[],t=[],l=[],o=1;o<=table1.rows.length-1;o++)for(var a=0;2>=a;a++)1==a&&e.push([parseFloat(table1.rows[o].cells[a].innerHTML),parseFloat(table1.rows[o].cells[a+1].innerHTML)]);for(var o=1;o<=table2.rows.length-1;o++)for(var a=0;2>=a;a++)1==a&&t.push([parseFloat(table2.rows[o].cells[a].innerHTML),parseFloat(table2.rows[o].cells[a+1].innerHTML)]);for(var o=1;o<=table3.rows.length-1;o++)for(var a=0;2>=a;a++)1==a&&l.push([parseFloat(table3.rows[o].cells[a].innerHTML),parseFloat(table3.rows[o].cells[a+1].innerHTML)]);e.sort(sortFunction),t.sort(sortFunction),options4.series[0].data=e,options4.series[1].data=t,options4.series[2].data=l;new Highcharts.Chart(options4)}function sortFunction(e,t){return e[0]===t[0]?0:e[0]<t[0]?-1:1}var options4={chart:{renderTo:"chart4",type:"spline"},credits:{enabled:!1},plotOptions:{line:{marker:{enabled:!1}}},subtitle:{text:""},xAxis:{gridLineWidth:.5,ordinal:!1,title:{text:"Motor RPM"}},yAxis:{gridLineWidth:.5,ordinal:!1,title:{text:"Induced Voltage (volt)"},plotLines:[{value:0,width:1,color:"#808080"}]},tooltip:{},title:{text:""},legend:{layout:"vertical",align:"right",verticalAlign:"middle",borderWidth:0},series:[{pointWidth:1,name:"Coil(1)",data:[]},{pointWidth:1,name:"Coil(2)",data:[]},{pointWidth:1,color:"#F44336",name:"Coil(3)",data:[]}]},table1,table2,table3;$(document).ready(function(){function e(){document.getElementById("PRM_value").value=l.value,$("input[type='radio'].radioBtnClass").is(":checked")&&(t=$("input[type='radio'].radioBtnClass:checked").val()),$.ajax({url:"/experiments/send_to_rasp",type:"POST",data:{prm:document.getElementById("PRM_value").value},success:function(e){}})}table1=document.getElementById("coil1table"),table2=document.getElementById("coil2table"),table3=document.getElementById("coil3table");var t,l=document.querySelector(".js-PRM");new Powerange(l,{callback:e,start:0,min:0,max:400});drow(),$("#bootstrap-rpm").slider(),$("#bootstrap-slider-t1").on("slide",function(e){$("#sliderValue").text(e.value)}),$(".slider").on("click",function(){var e=$(".tooltip-inner").text();$("#sliderValue").text(e),document.getElementById("PRM_value").value=$(".tooltip-inner").text(),$("input[type='radio'].radioBtnClass").is(":checked")&&(t=$("input[type='radio'].radioBtnClass:checked").val()),$.ajax({url:"/experiments/send_to_rasp",type:"POST",data:{prm:document.getElementById("PRM_value").value},success:function(e){}})}),$("#coil2table").hide(),$("#coil3table").hide(),$("#exportcoil2").hide(),$("#exportcoil3").hide();var o=document.createElement("iframe");o.frameBorder=0,o.width="480px",o.height="378px",o.id="myFrame",o.setAttribute("src","http://user:@41.38.70.12:4440/video/mjpg.cgi"),document.getElementById("parentDivId").appendChild(o)});