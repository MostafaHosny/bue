function drow(){for(var t=[],e=[],a=[],l=1;l<=table1.rows.length-1;l++)for(var o=0;2>=o;o++)1==o&&t.push([parseFloat(table1.rows[l].cells[o].innerHTML),parseFloat(table1.rows[l].cells[o+1].innerHTML)]);for(var l=1;l<=table2.rows.length-1;l++)for(var o=0;2>=o;o++)1==o&&e.push([parseFloat(table2.rows[l].cells[o].innerHTML),parseFloat(table2.rows[l].cells[o+1].innerHTML)]);for(var l=1;l<=table3.rows.length-1;l++)for(var o=0;2>=o;o++)1==o&&a.push([parseFloat(table3.rows[l].cells[o].innerHTML),parseFloat(table3.rows[l].cells[o+1].innerHTML)]);t.sort(sortFunction),e.sort(sortFunction),options4.series[0].data=t,options4.series[1].data=e,options4.series[2].data=a;new Highcharts.Chart(options4)}function sortFunction(t,e){return t[0]===e[0]?0:t[0]<e[0]?-1:1}function displayPRM(){document.getElementById("PRM_value").value=clbkprm.value,$("input[type='radio'].radioBtnClass").is(":checked")&&(coil=$("input[type='radio'].radioBtnClass:checked").val()),$.ajax({url:"/experiments/send_to_rasp",type:"POST",data:{coil:coil,prm:document.getElementById("PRM_value").value},success:function(t){}})}function isNumberKey(t,e){var a=e.which?e.which:e.keyCode;return 46==a?-1===t.value.indexOf(".")?!0:!1:a>31&&(48>a||a>57)?!1:!0}function handleClick(t){0==t.value?($("#coil1table").show(),$("#coil2table").hide(),$("#coil3table").hide()):1==t.value?($("#coil1table").hide(),$("#coil2table").show(),$("#coil3table").hide()):2==t.value&&($("#coil1table").hide(),$("#coil2table").hide(),$("#coil3table").show()),$.ajax({url:"/experiments/send_to_rasp",type:"POST",data:{coil:t.value,prm:document.getElementById("PRM_value").value},success:function(t){}})}function sendMessage(){var t;submitAjaxRequest("POST","/experiments/send_to_rasp","coil="+document.getElementById("PRM_value").value+"&prm="+document.getElementById("PRM_value").value,t),console.log()}function addrow(){""!=$("#Voltage").val()&&($("input[type='radio'].radioBtnClass").is(":checked")&&(coil=$("input[type='radio'].radioBtnClass:checked").val()),0==coil?$("#coil1table tbody").append('<tr class="child"><td>'+table1.rows.length+"</td> <td>"+document.getElementById("PRM_value").value+"</td><td>"+document.getElementById("Voltage").value+"</td></tr>"):1==coil?$("#coil2table tbody").append('<tr class="child"><td>'+table2.rows.length+"</td> <td>"+document.getElementById("PRM_value").value+"</td><td>"+document.getElementById("Voltage").value+"</td></tr>"):2==coil&&$("#coil3table tbody").append('<tr class="child"><td>'+table3.rows.length+"</td> <td>"+document.getElementById("PRM_value").value+"</td><td>"+document.getElementById("Voltage").value+"</td></tr>"),drow())}var options4={chart:{renderTo:"chart4",type:"spline"},credits:{enabled:!1},plotOptions:{line:{marker:{enabled:!1}}},subtitle:{text:"PRM"},xAxis:{gridLineWidth:.5,ordinal:!1,title:{text:"RPM"}},yAxis:{gridLineWidth:.5,ordinal:!1,title:{text:"Induced Voltage (volt)"},plotLines:[{value:0,width:1,color:"#808080"}]},tooltip:{},legend:{layout:"vertical",align:"right",verticalAlign:"middle",borderWidth:0},series:[{pointWidth:1,name:"Coil(1)",data:[]},{pointWidth:1,name:"Coil(2)",data:[]},{pointWidth:1,name:"Coil(3)",data:[]}]},table1=document.getElementById("coil1table"),table2=document.getElementById("coil2table"),table3=document.getElementById("coil3table"),coil,clbkprm=document.querySelector(".js-PRM"),initClbk=new Powerange(clbkprm,{callback:displayPRM,start:0,min:0,max:400});$(document).ready(function(){drow(),$("#Measure").click(function(){var t;$("input[type='radio'].radioBtnClass").is(":checked")&&(t=$("input[type='radio'].radioBtnClass:checked").val()),$.ajax({url:"/experiments/send_to_rasp",type:"POST",data:{coil:t,prm:document.getElementById("PRM_value").value},success:function(t){}})}),$("#coil2table").hide(),$("#coil3table").hide();var t=document.createElement("iframe");t.frameBorder=0,t.width="480px",t.height="400px",t.id="myFrame",t.scrolling="no",t.setAttribute("src","http://user:@41.38.70.12:4440/video/mjpg.cgi"),document.getElementById("parentDivId").appendChild(t)});